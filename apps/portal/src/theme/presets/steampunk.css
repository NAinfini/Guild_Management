@keyframes steam-rise {
  0% {
    transform: translateY(100%) scale(1);
    opacity: 0;
    filter: blur(4px);
  }
  40% {
    opacity: 0.6;
  }
  100% {
    transform: translateY(-20%) scale(1.5);
    opacity: 0;
    filter: blur(8px);
  }
}

.theme-steampunk {
  /* Typography */
  --theme-font-display: "Rye", serif;
  --theme-font-body: "Courier Prime", monospace;
  --theme-letter-spacing: 0.05em;

  /* Structure - refined double borders */
  --theme-border-width: 2px;
  --theme-border-radius: 6px;
  --theme-border-style: double;

  /* Depth & Shadows */
  --theme-shadow-sm: inset 0 2px 4px rgba(0, 0, 0, 0.3), 0 2px 0 rgba(255, 255, 255, 0.1);
  --theme-shadow-md: inset 0 2px 4px rgba(0, 0, 0, 0.4), 0 4px 8px rgba(0, 0, 0, 0.4);
  --theme-shadow-lg: inset 0 2px 10px rgba(0, 0, 0, 0.5), 0 8px 16px rgba(0, 0, 0, 0.5);

  /* Motion */
  --theme-duration: 0.3s;
  --theme-easing: cubic-bezier(0.68, -0.6, 0.32, 1.6);
  --theme-motion-fast: 240ms;
  --theme-motion-medium: 320ms;
  --theme-motion-slow: 420ms;
  --theme-motion-easing: cubic-bezier(0.68, -0.6, 0.32, 1.6);
  --theme-motion-hover-lift: -1px;
  --theme-motion-card-lift: -1px;
  --theme-motion-input-lift: -0.25px;
  --theme-motion-press-y: 2px;
  --theme-motion-press-scale: 0.99;

  /* Component token overrides */
  --cmp-button-radius: 4px;
  --cmp-card-radius: 6px;
  --cmp-card-border: color-mix(in srgb, var(--sys-border-strong) 40%, var(--sys-border-default));
  --cmp-input-radius: 3px;
  --cmp-chip-border: color-mix(in srgb, var(--sys-border-strong) 45%, var(--sys-border-default));
  --cmp-nav-item-active-bg: color-mix(in srgb, var(--sys-interactive-accent) 22%, transparent);
}

.theme-steampunk :is(.ui-button, .ui-chip, .ui-card, .ui-input, .ui-table, .ui-nav, .control) {
  position: relative;
  overflow: hidden;
  border: var(--theme-border-width) var(--theme-border-style) var(--color-border-default);
  border-radius: var(--theme-border-radius);
  font-family: var(--theme-font-body);
  box-shadow: var(--theme-shadow-sm);
  background-image: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 10px,
    rgba(0, 0, 0, 0.03) 10px,
    rgba(0, 0, 0, 0.03) 20px
  );
}

/* Keep focal double-borders on larger surfaces; simplify dense controls. */
.theme-steampunk :is(.ui-chip, .ui-input, .ui-nav, .control[data-ui="input"], .control[data-ui="nav"]) {
  border-style: solid;
}

.theme-steampunk :is(.ui-button, .ui-card, .ui-nav, .control)::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 50% 120%, rgba(255, 255, 255, 0.4) 0%, transparent 60%);
  opacity: 0;
  pointer-events: none;
  z-index: 10;
  transform: translateY(100%);
}

.theme-steampunk :is(.ui-button, .ui-card, .ui-nav, .control):hover:not(:disabled)::before {
  animation: steam-rise 1.5s ease-out infinite;
}

.theme-steampunk :is(.ui-button, .ui-chip, .ui-card, .ui-nav, .control):hover:not(:disabled) {
  box-shadow: var(--theme-shadow-md);
}

.theme-steampunk :is(.ui-button, .ui-chip, .control):active:not(:disabled) {
  box-shadow: inset 0 4px 8px rgba(0, 0, 0, 0.5);
  transform: translateY(var(--theme-motion-press-y));
}

/* Gear/cog decorative element removed per user request */

/* Riveted metal effect on cards */
.theme-steampunk .ui-card,
.theme-steampunk [data-ui="card"] {
  position: relative;
}

.theme-steampunk .ui-card::after,
.theme-steampunk [data-ui="card"]::after {
  content: "";
  position: absolute;
  top: 8px;
  left: 8px;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.4), rgba(0, 0, 0, 0.3));
  box-shadow:
    0 0 2px rgba(0, 0, 0, 0.5),
    calc(100% - 14px) 0 0 0 currentColor,
    0 calc(100% - 14px) 0 0 currentColor,
    calc(100% - 14px) calc(100% - 14px) 0 0 currentColor;
  pointer-events: none;
}

/* Brass border accent */
.theme-steampunk .ui-card {
  border-top-color: color-mix(in srgb, var(--sys-border-default) 70%, rgba(212, 175, 55, 0.3));
  border-left-color: color-mix(in srgb, var(--sys-border-default) 70%, rgba(212, 175, 55, 0.3));
}

/* Mechanical input fields */
.theme-steampunk input:not([type="checkbox"]):not([type="radio"]),
.theme-steampunk textarea,
.theme-steampunk select {
  background-image: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 1px,
    rgba(0, 0, 0, 0.02) 1px,
    rgba(0, 0, 0, 0.02) 2px
  );
}

/* Pressure gauge style progress */
.theme-steampunk progress {
  border: 2px double var(--sys-border-default);
  border-radius: 20px;
  background: var(--sys-surface-elevated);
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
}

.theme-steampunk progress::-webkit-progress-bar {
  background: var(--sys-surface-elevated);
  border-radius: 20px;
}

.theme-steampunk progress::-webkit-progress-value {
  background: linear-gradient(
    90deg,
    color-mix(in srgb, var(--sys-interactive-accent) 80%, rgba(212, 175, 55, 0.2)),
    var(--sys-interactive-accent)
  );
  border-radius: 20px;
  box-shadow: 0 0 4px var(--sys-interactive-accent);
}
