/* -------------------------------------------------------------------------- */
/*                  COMPONENT-TARGETED INTERACTION SIGNATURES                 */
/* -------------------------------------------------------------------------- */

:root {
  --theme-motion-fast: 150ms;
  --theme-motion-medium: 220ms;
  --theme-motion-slow: 300ms;
  --theme-motion-easing: cubic-bezier(0.22, 1, 0.36, 1);
  --theme-motion-hover-lift: -1px;
  --theme-motion-card-lift: -1px;
  --theme-motion-input-lift: -0.5px;
  --theme-motion-press-y: 1px;
  --theme-motion-press-scale: 0.985;
  --theme-motion-intensity: 1;

  --theme-motion-fast-effective: calc(var(--theme-motion-fast) * var(--theme-motion-intensity));
  --theme-motion-medium-effective: calc(var(--theme-motion-medium) * var(--theme-motion-intensity));
  --theme-motion-slow-effective: calc(var(--theme-motion-slow) * var(--theme-motion-intensity));
  --theme-motion-hover-lift-effective: calc(var(--theme-motion-hover-lift) * var(--theme-motion-intensity));
  --theme-motion-card-lift-effective: calc(var(--theme-motion-card-lift) * var(--theme-motion-intensity));
  --theme-motion-input-lift-effective: calc(var(--theme-motion-input-lift) * var(--theme-motion-intensity));
  --theme-motion-press-y-effective: calc(var(--theme-motion-press-y) * var(--theme-motion-intensity));
  --theme-motion-press-scale-effective: var(--theme-motion-press-scale);

  --interaction-fast: var(--theme-motion-fast-effective, var(--theme-motion-fast, 150ms));
  --interaction-med: var(--theme-motion-medium-effective, var(--theme-motion-medium, 220ms));
  --interaction-slow: var(--theme-motion-slow-effective, var(--theme-motion-slow, 300ms));
  --interaction-ease: var(--theme-motion-easing, cubic-bezier(0.22, 1, 0.36, 1));
  --interaction-hover-lift: var(--theme-motion-hover-lift-effective, var(--theme-motion-hover-lift, -1px));
  --interaction-card-lift: var(--theme-motion-card-lift-effective, var(--theme-motion-card-lift, -1px));
  --interaction-input-lift: var(--theme-motion-input-lift-effective, var(--theme-motion-input-lift, -0.5px));
  --interaction-press-scale: var(--theme-motion-press-scale-effective, var(--theme-motion-press-scale, 0.985));
  --interaction-press-y: var(--theme-motion-press-y-effective, var(--theme-motion-press-y, 1px));
  --interaction-focus-ring-color: var(--sys-interactive-focus-ring, rgba(107, 140, 255, 0.66));
  --interaction-focus-ring-width: 2px;
  --interaction-focus-ring-glow: 0 0 0 calc(var(--interaction-focus-ring-width) * 2)
    color-mix(in srgb, var(--interaction-focus-ring-color) 30%, transparent);

  /* Backwards-compatible aliases */
  --control-fast: var(--interaction-fast);
  --control-medium: var(--interaction-med);
  --control-slow: var(--interaction-slow);
  --control-ease: var(--interaction-ease);
}

/* Buttons / chips */
:is(.ui-button, .control[data-ui="button"], button.control, .MuiButton-root, .MuiButton-root[data-ui="button"]) {
  transition:
    transform var(--interaction-fast) var(--interaction-ease),
    box-shadow var(--interaction-med) var(--interaction-ease),
    border-color var(--interaction-fast) var(--interaction-ease),
    background-color var(--interaction-fast) var(--interaction-ease),
    color var(--interaction-fast) var(--interaction-ease);
}

:is(.ui-button, .control[data-ui="button"], button.control, .MuiButton-root, .MuiButton-root[data-ui="button"]):hover:not(:disabled) {
  transform: translateY(var(--interaction-hover-lift));
}

:is(.ui-button, .control[data-ui="button"], button.control, .MuiButton-root, .MuiButton-root[data-ui="button"]):active:not(:disabled) {
  transform: translateY(var(--interaction-press-y)) scale(var(--interaction-press-scale));
}

:is(.ui-chip, .control[data-ui="chip"]) {
  transition:
    transform var(--interaction-fast) var(--interaction-ease),
    box-shadow var(--interaction-med) var(--interaction-ease),
    border-color var(--interaction-fast) var(--interaction-ease),
    background-color var(--interaction-fast) var(--interaction-ease),
    color var(--interaction-fast) var(--interaction-ease);
}

:is(.ui-chip, .control[data-ui="chip"]):hover:not(:disabled) {
  transform: translateY(var(--interaction-hover-lift));
}

:is(.ui-chip, .control[data-ui="chip"]):active:not(:disabled) {
  transform: translateY(var(--interaction-press-y)) scale(var(--interaction-press-scale));
}

/* Card / dialog */
:is(.ui-card, .ui-dialog, .control[data-ui="card"], .control[data-ui="dialog"]) {
  transition:
    transform var(--interaction-fast) var(--interaction-ease),
    box-shadow var(--interaction-med) var(--interaction-ease),
    border-color var(--interaction-fast) var(--interaction-ease),
    background-color var(--interaction-fast) var(--interaction-ease);
}

:is(.ui-card, .ui-dialog):hover {
  transform: translateY(var(--interaction-card-lift));
}

/* Inputs */
:is(.ui-input, .control[data-ui="input"]) {
  transition:
    transform var(--interaction-fast) var(--interaction-ease),
    box-shadow var(--interaction-med) var(--interaction-ease),
    border-color var(--interaction-fast) var(--interaction-ease),
    background-color var(--interaction-fast) var(--interaction-ease),
    color var(--interaction-fast) var(--interaction-ease);
}

:is(.ui-input, .control[data-ui="input"]):hover:not(.Mui-disabled):not(:disabled) {
  transform: translateY(var(--interaction-input-lift));
}

/* Tables */
:is(.ui-table, .control[data-ui="table"]) {
  transition:
    border-color var(--interaction-fast) var(--interaction-ease),
    background-color var(--interaction-fast) var(--interaction-ease),
    color var(--interaction-fast) var(--interaction-ease);
}

/* Nav */
:is(.ui-nav, .control[data-ui="nav"]) {
  transition:
    transform var(--interaction-fast) var(--interaction-ease),
    box-shadow var(--interaction-med) var(--interaction-ease),
    border-color var(--interaction-fast) var(--interaction-ease),
    background-color var(--interaction-fast) var(--interaction-ease);
}

:is(.ui-nav, .control[data-ui="nav"]):hover:not(:disabled) {
  transform: translateY(var(--interaction-hover-lift));
}

:is(
  .ui-button,
  .ui-chip,
  .ui-input,
  .ui-card,
  .ui-dialog,
  .ui-nav,
  .control,
  .MuiButton-root,
  .MuiIconButton-root,
  .MuiMenuItem-root,
  .MuiListItemButton-root
):focus-visible {
  outline: var(--interaction-focus-ring-width) solid var(--interaction-focus-ring-color);
  outline-offset: 2px;
  box-shadow: var(--interaction-focus-ring-glow);
}

/* In-app motion mode controls */
:root[data-motion-mode="off"] {
  --interaction-fast: 0ms;
  --interaction-med: 0ms;
  --interaction-slow: 0ms;
  --interaction-hover-lift: 0px;
  --interaction-card-lift: 0px;
  --interaction-input-lift: 0px;
  --interaction-press-y: 0px;
  --interaction-press-scale: 1;
}

:root[data-motion-mode="toned-down"] {
  --interaction-hover-lift: calc(var(--theme-motion-hover-lift-effective, var(--theme-motion-hover-lift, -1px)) * 0.65);
  --interaction-card-lift: calc(var(--theme-motion-card-lift-effective, var(--theme-motion-card-lift, -1px)) * 0.65);
  --interaction-input-lift: calc(var(--theme-motion-input-lift-effective, var(--theme-motion-input-lift, -0.5px)) * 0.65);
  --interaction-press-y: calc(var(--theme-motion-press-y-effective, var(--theme-motion-press-y, 1px)) * 0.7);
}

:root[data-motion-mode="off"] :is(.ui-button, .ui-card, .ui-input, .ui-chip, .ui-nav, .ui-table, .ui-dialog, .control, .MuiButton-root) {
  transition-duration: 0ms !important;
  animation-duration: 0ms !important;
  transform: none !important;
}

/* Accessibility: reduce motion for users requesting it */
@media (prefers-reduced-motion: reduce) {
  :is(.ui-button, .ui-card, .ui-input, .ui-chip, .ui-nav, .ui-table, .ui-dialog, .control, .MuiButton-root) {
    transition-duration: 0ms !important;
    animation-duration: 0ms !important;
    transform: none !important;
  }
}
